@model WebCinema.ViewModels.BookingSeatViewModel

@{
    ViewData["Title"] = "BookingSeat";
    Layout = "~/Views/Shared/_LayoutCustomer.cshtml";
    // Get the date part of ShowtimeDate
    string date = Model.Showtime.ShowtimeDate.ToShortDateString();

    // // Get the ScreenTime based on the ScreentimeId in Showtime
    // string time = "";
    // if (Model.Showtime != null && Model.Showtime.Screentime != null)
    // {
    //     time = Model.Showtime.Screentime.ToString(@"hh\:mm");
    // }
}
<link href="~/css/booking.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
<div class="content-item">
    <div class="item-left">
        <h3><span class="span_number">1</span><span></span><span>CHỌN VỊ TRÍ</span></h3>
        <div class="content-select-ticket" style="margin">
            <div id="divLegend" align="center">
                <div class="Legend-item">
                    <span>
                        <img src="~/images/seat/seat_ischosen.png">
                        &nbsp;
                        <span class="Legend">Ghế của bạn</span>
                    </span>
                    <span>
                        <img src="~/images/seat/seat_empty.png">
                        &nbsp;
                        <span class="Legend">Ghế Trống</span>
                    </span>
                    <span>
                        <img src="~/images/seat/seat_booked.png">
                        &nbsp;
                        <span class="Legend">Đã Đặt</span>
                    </span>
                </div>
                <div class="Seating-Screen">
                    <img src="~/images/seat/SeatScreen.png" style="width: 100%">
                </div>
                <div class="Seats">
                    <table>
                        @for (int row = 1; row <= 5; row++)
                        {
                            <tr>
                                @for (char col = 'A'; col <= 'H'; col++)
                                {
                                    <td>
                                        @* Generate seat ID *@
                                        @{
                                            var seatId = $"PC8_{col}{row}";
                                        }
                                        <p class="seat" data-seat-id="@seatId">
                                            <span class="seat-text" style="color: black;">@($"{col}{row}")</span>
                                            <img class="seat-pic" src="~/images/seat/seat_empty.png" alt="Seat @($" PC8{col}{row}")" style="display: block; margin: 0 auto;" />
                                        </p>
                                    </td>
                                }
                            </tr>
                        }
                    </table>
                </div>
            </div>
        </div>

        <h3><span class="span_number">2</span><span>CHỌN ĐỒ ĂN &amp; THỨC UỐNG</span><span style="font-size: 20px;"> (tùy chọn)</span></h3>
        <div class="combo-select">
            <div class="combo-box">
                <div class="combo">
                    <img src="https://cms.megagscinemas.vn//media/76070/combo-share.png" alt="">
                    <div class="combo-info">
                        <h4>Combo Bắp và Coca</h4>
                        <div class="combo-number">
                            <i class="fa fa-minus-circle decrease"></i>
                            <span><input type="text" value="0" class="Qlty" readonly=""></span>
                            <i class="fa fa-plus-circle increase"></i>
                            <span class="combo-price">80000</span>
                        </div>
                    </div>
                </div>
                <div class="combo">
                    <img src="https://cms.megagscinemas.vn//media/76090/popcorn-caramel-40oz.png" alt="">
                    <div class="combo-info">
                        <h4>Bắp Caramel</h4>
                        <div class="combo-number">
                            <i class="fa fa-minus-circle decrease"></i>
                            <span><input type="text" value="0" class="Qlty" readonly=""></span>
                            <i class="fa fa-plus-circle increase"></i>
                            <span class="combo-price">45000</span>
                        </div>
                    </div>
                </div>
                <div class="combo">
                    <img src="https://i.pngimg.me/thumb/f/720/m2i8A0G6N4H7i8K9.jpg" alt="">
                    <div class="combo-info">
                        <h4>Coca</h4>
                        <div class="combo-number">
                            <i class="fa fa-minus-circle decrease"></i>
                            <span><input type="text" value="0" class="Qlty" readonly=""></span>
                            <i class="fa fa-plus-circle increase"></i>
                            <span class="combo-price">40000</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="item-right">
        <div class="section-item">
            <div class="box-ticket-info">
                <div class="movie-info">
                    <div class="movie-info-item">
                        <h3>@Model.Movie.MovieName</h3>
                        <p>BTalk Cinema</p>
                        <p>@Model.Showtime.ShowtimeDate + @Model.Showtime.ScreenTimeId</p>
                        <p>@Model.Showtime.Room.RoomName</p>
                    </div>
                    <div class="movie-image">
                        <img src=@Url.Content("~/images/Baking-Bad.png") />
                    </div>
                </div>
                <div class="box-tickets">
                    <h5>Số vé:</h5>
                    <table class="table">
                        <tbody id="ticketTableBody">
                            <!-- Table rows will be dynamically added here -->
                        </tbody>
                    </table>
                    <h3 class="select-drink">CHỌN ĐỒ ĂN &amp; THỨC UỐNG</h3>
                    <table class="table">
                        <tbody id="comboTableBody">
                            <!-- Table rows will be dynamically added here -->
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="box-info-pay">
                <div class="head-title">
                    <h3>THÔNG TIN THANH TOÁN</h3>
                    <span class="span_number">3</span>
                </div>
                <div class="box-input">
                    <div class="show-error err">
                        <span></span>
                    </div>
                    <form method="post" asp-action="Pay" asp-controller="Home">
                        <input name="txtCardName" type="text" id="txtCardName" placeholder="Họ và Tên">

                        <input name="txtEmail" type="text" id="txtEmail" placeholder="Email">

                        <input type="text" id="txtCustPhone" placeholder="Số điện thoại">
                    </form>
                </div>
            </div>
            <div class="box-pay">
                <span>
                    <span class="img-loading" style="position: absolute; top: 45%">
                        <img src="~/images//loading.gif" style="width: 25px" alt="loading" />
                    </span>
                    <form id="paymentForm" asp-action="Pay" asp-controller="Home">
                        <!-- Other form fields go here -->
                        <input id="paymentButton" type="submit" name="payment" value="Thanh Toán" />
                    </form>
                </span>
            </div>
        </div>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="~/js/booking.js"></script>